# Home Telemetry

## Quickstart (Windows, local server + DB in Docker)

1. Start everything:
```powershell
cd C:\dev\home-telemetry
copy .env.example .env
# edit .env if needed
.\scripts\dev.ps1
```

2. Open the web UI:
```
http://localhost:5173
```

3. Open Swagger:
```
https://localhost:8443/swagger/index.html
```

## What Starts
- TimescaleDB (Docker)
- Go API server (HTTPS on `:8443`)
- React/Vite web app (HTTP on `:5173`)

## Environment

Required:
- `DATABASE_URL`
- `AUTH_TOKEN`
- `TLS_CERT`
- `TLS_KEY`

Optional:
- `HTTP_ADDR` (default `:8443`)
- `CORS_ORIGINS` (default `*`)

## Web App Notes
- The dev server proxies `/api` to `https://localhost:8443`.
- If your TLS cert is self-signed, your browser must trust it.

## Migrations
```powershell
cd C:\dev\home-telemetry\server
$env:DATABASE_URL="postgres://postgres:postgres@localhost:5432/telemetry?sslmode=disable"
go run .\cmd\migrate
```

## TLS (Dev)
- Certs live in `server\certs`.
- Generated by `server\scripts\gen-cert.ps1`.
- Accept the browser warning or install the cert into Trusted Root.

## Notes
- Swagger requires `Authorization: Bearer <token>`.
## Swagger Generation

`powershell
.\\scripts\\gen-swagger.ps1
`\n